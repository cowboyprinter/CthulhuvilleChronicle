<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Cthulhuville Chronicle</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Orbitron:wght@400;700&family=Special+Elite&display=swap" rel="stylesheet">
    <style>
        /* ==== BASE STYLES ==== */
        :root {
            --cthulhu-green: #45c9de;
            --deep-sea-blue: #2782dd;
            --eldritch-purple: #cf43cf;
            --atomic-red: #ff6b6b;
            --retro-yellow: #ffd166;
            --vintage-teal: #06d6a0;
            --retro-black: #1d3557;
            --mystic-blue: #457b9d;
            --parchment: #f1faee;
            --ink: #0a121d;
        }
        
        body {
            font-family: 'Special Elite', cursive;
            line-height: 1.4;
            background: radial-gradient(circle, #25656f 0%, #224262 100%);
            color: var(--retro-black);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .page-background {
            padding: 20px;
            background: linear-gradient(to bottom, #c3a493 0%, #8cc7a9 100%);
            box-shadow: 0 0 30px rgba(231, 107, 107, 0.5), 
                        0 0 60px rgba(6, 214, 160, 0.3);
            position: relative;
            margin-top: 20px;
            margin-bottom: 20px;
            box-sizing: border-box;
            width: 100%;
            max-width: calc(8.5in + 40px);
            overflow-x: hidden;
            border: 3px solid var(--atomic-red);
        }

        .page-background::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('https://www.transparenttextures.com/patterns/cartographer.png');
            opacity: 0.1;
            pointer-events: none;
        }

        .page-navigation {
            text-align: center;
            padding: 10px 0;
            border-top: 1px solid var(--vintage-teal);
            border-bottom: 1px solid var(--vintage-teal);
            margin-bottom: 20px;
            background-color: rgba(206, 154, 145, 0.7);
        }
        .page-navigation a {
            font-family: 'Orbitron', sans-serif;
            text-decoration: none;
            color: var(--retro-black);
            margin: 0 20px;
            font-size: 1.2em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .page-navigation a:hover {
            color: var(--atomic-red);
            text-shadow: 0 0 10px var(--atomic-red);
        }


        .newspaper-page {
            max-width: 8.5in;
            width: 98%;
            margin-left: auto;
            margin-right: auto;
            min-height: 11in;
            padding: 0.5in;
            box-sizing: border-box;
            background: linear-gradient(to bottom right, rgba(120, 126, 135, 0.2) 0%, rgba(192, 202, 198, 0) 30%);
            border: 1px solid var(--vintage-teal);
            position: relative;
        }

        .masthead {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            border-bottom: 3px double var(--vintage-teal);
            padding-bottom: 15px;
            margin-bottom: 20px;
        }

        .date-time-section {
            font-size: 0.8em;
            text-align: left;
            flex-basis: 150px;
            font-family: 'Orbitron', sans-serif;
        }
        .date-time-section p { margin: 2px 0; }

        .title-section {
            text-align: center;
            flex-grow: 1;
        }

        .logo {
            max-width: 100px;
            margin-bottom: 5px;
            display: block;
            margin-left: auto;
            margin-right: auto;
            filter: drop-shadow(0 0 5px var(--vintage-teal));
        }

        .main-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.8em;
            margin: 0;
            color: var(--retro-black);
            text-transform: uppercase;
            letter-spacing: 3px;
            text-shadow: 0 0 10px var(--atomic-red);
        }

        .sub-title {
            font-size: 1.2em;
            margin: 5px 0 5px;
            font-style: italic;
            color: var(--retro-black);
            font-family: 'Playfair Display', serif;
        }

        .sub-sub-title {
            font-size: 0.9em;
            margin: 5px 0 0;
            color: var(--retro-black);
            font-style: italic;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            font-family: 'Special Elite', cursive;
        }

        .price-section {
            font-size: 0.9em;
            text-align: right;
            flex-basis: 150px;
            font-family: 'Orbitron', sans-serif;
        }
        .donate-button {
            display: inline-block;
            padding: 5px 10px;
            border: 1px solid var(--vintage-teal);
            background-color: var(--parchment);
            color: var(--retro-black);
            text-decoration: none;
            font-weight: bold;
            border-radius: 3px;
            text-transform: uppercase;
            font-family: 'Orbitron', sans-serif;
        }
        .donate-button:hover {
            background-color: var(--cthulhu-green);
            box-shadow: 0 0 10px var(--vintage-teal);
        }

        .newspaper-body {
            margin-top: 10px;
        }

        /* ==== STORY GENERATION STYLES ==== */
        .generation-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .generation-controls button {
            background: var(--eldritch-purple);
            color: var(--parchment);
            border: none;
            padding: 12px 25px;
            font-family: 'Orbitron', sans-serif;
            font-size: 1rem;
            cursor: pointer;
            border-radius: 2px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(85, 47, 47, 0.2);
            letter-spacing: 1px;
        }

        .generation-controls button:hover {
            background: var(--atomic-red);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(255, 107, 107, 0.5);
        }

        .generated-stories {
            background: rgba(180, 185, 192, 0.7);
            border: 1px solid var(--vintage-teal);
            padding: 25px;
            border-radius: 5px;
            box-shadow: 0 3px 10px rgba(245, 82, 82, 0.1);
            margin-bottom: 30px;
        }

        .generated-story {
            margin-bottom: 30px;
            padding-bottom: 30px;
            border-bottom: 1px dashed var(--ink);
        }

        .generated-story:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .generated-story-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            border-bottom: 1px solid var(--ink);
            padding-bottom: 10px;
        }
        .story-header-thumbnail {
            width: 50px;
            height: 50px;
            border: 2px solid var(--ink);
            border-radius: 50%;
            margin-right: 15px;
            object-fit: cover;
            flex-shrink: 0;
        }
        .byline {
            font-style: italic;
            margin-right: 5px;
            color: var(--retro-black);
        }
        .story-body-image {
            width: 200px;
            height: auto;
            float: left;
            margin-right: 15px;
            margin-bottom: 5px;
            border: 2px solid var(--ink);
        }
        .generated-story-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.4rem;
            color: var(--retro-black);
            margin: 0;
            letter-spacing: 1px;
        }

        .generated-story-location {
            font-style: italic;
            color: var(--retro-black);
            background: rgba(132, 154, 148, 0.2);
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 0.9rem;
        }

        .generated-story-content {
            line-height: 1.6;
            text-align: justify;
        }

        .generated-story-quote {
            font-style: italic;
            font-size: extra-extra-large;
            border-left: 3px solid var(--vintage-teal);
            padding-left: 15px;
            margin: 15px 0;
            color: var(--ink);
        }

        .generated-story-highlight {
            font-weight: bold;
            color: var(--retro-black);
        }

        .weather-tag {
            display: inline-block;
            background: var(--parchment);
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.85rem;
            margin-left: 10px;
        }

        /* ==== COLUMN LAYOUT ==== */
        .story-columns {
            column-count: 4;
            column-gap: 15px;
            column-rule: 1px solid rgba(130, 155, 148, 0.3);
            text-align: justify;
            margin-bottom: 20px;
        }

        /* ==== BELOW FOLD CONTENT ==== */
       .below-fold-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-areas: 
                "cartoon tictactoe"
                "advertisement1 advertisement2"
                "classifieds classifieds";
            gap: 20px;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid var(--vintage-teal);
        }
        .cartoon-section { grid-area: cartoon; text-align: center;}
        .tic-tac-toe-section { grid-area: tictactoe; text-align: center;}
        .story-three { grid-area: story3; }
        .advertisement { grid-area: advertisement; }
        
        /* ==== CLASSIFIEDS ==== */
        .classifieds {
            margin-top: 20px;
            padding: 15px;
            background-color: rgba(185, 188, 193, 0.7);
            border: 1px solid var(--vintage-teal);
        }

        .classifieds h4 {
            font-family: 'Orbitron', sans-serif;
            text-align: center;
            font-size: 1.3em;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 3px double var(--retro-black);
            color: var(--retro-black);
        }

        .classifieds-content {
            column-count: 3;
            column-gap: 20px;
            column-rule: 1px solid rgba(7, 55, 42, 0.3);
            text-align: justify;
            font-size: 0.9em;
        }

        .ad-item {
            margin-bottom: 15px;
            break-inside: avoid;
        }

        .ad-item strong {
            font-weight: bold;
            display: block;
            color: var(--retro-black);
        }
        
        .ad-item {
            color: var(--retro-black);
        }

        .classifieds {
            grid-area: classifieds;
        }
        .media-wrap {
            margin: 10px 0;
        }
        
        .media-wrap.video-wrap {
            width: 100%;
            margin: 0 auto 15px;
        }
        
        .media-wrap.image-wrap {
            float: right;
            width: 38%;
            margin-left: 15px;
            margin-bottom: 5px;
            shape-outside: rectangle();
        }

        .media-wrap video, .media-wrap img {
            max-width: 100%;
            height: auto;
            border: 1px solid var(--vintage-teal);
        }
        
        .media-wrap video {
            width: 100%;
            height: auto;
            display: block;
            border: 2px solid var(--vintage-teal);
        }
        
        .story-image {
            border: 2px solid var(--vintage-teal);
        }

        .caption {
            font-size: 0.75em;
            font-style: italic;
            text-align: center;
            color: var(--ink);
            margin-top: 3px;
        }

        .cartoon-image {
            max-width: 90%;
            border: 1px solid var(--retro-black);
            margin-bottom: 5px;
        }
        
        .cartoon-section h4, .tic-tac-toe-section h4 {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1em;
            margin-bottom: 10px;
            border-bottom: 1px solid rgba(10, 65, 50, 0.3);
            padding-bottom: 5px;
            color: var(--retro-black);
        }

        /* ==== TIC-TAC-TOE STYLING ==== */
        .tic-tac-toe-board {
            display: grid;
            grid-template-columns: repeat(3, 60px);
            grid-template-rows: repeat(3, 60px);
            gap: 5px;
            margin: 10px auto;
            width: 190px;
        }
        
        .cell {
            width: 60px;
            height: 60px;
            border: 2px solid var(--vintage-teal);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2em;
            font-family: 'Orbitron', sans-serif;
            cursor: pointer;
            background-color: rgba(92, 130, 183, 0.5);
            color: var(--retro-black);
        }
        
        .cell:hover {
            background-color: rgba(6, 214, 160, 0.2);
        }
        
        #reset-game {
            padding: 8px 15px;
            font-family: 'Special Elite', cursive;
            background-color: var(--deep-sea-blue);
            border: 1px solid var(--vintage-teal);
            color: var(--retro-black);
            cursor: pointer;
            margin-top: 10px;
            border-radius: 3px;
        }
        
        #game-status {
            font-size: 0.9em;
            margin-top: 10px;
            font-weight: bold;
            color: var(--retro-black);
        }

        /* ==== ADVERTISEMENT ==== */
        .advertisement1, .advertisement2 {
            margin-top: 20px;
            padding: 15px;
            text-align: center;
        }
        
        .advertisement1 { grid-area: advertisement1; }
        .advertisement2 { grid-area: advertisement2; }
                
        .ad-border {
            border: 3px dashed var(--vintage-teal);
            padding: 10px;
            background-color: rgba(92, 117, 151, 0.7);
        }

        .advertisement1 h4, .advertisement2 h4 {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.3em;
            margin-bottom: 10px;
            color: var(--atomic-red);
            text-transform: uppercase;
        }
        
        .ad-image {
            max-width: 150px;
            margin-bottom: 10px;
            border: 1px solid var(--vintage-teal);
        }
        
        .ad-link {
            display: inline-block;
            margin-top: 10px;
            padding: 8px 15px;
            background-color: var(--eldritch-purple);
            color: var(--parchment);
            text-decoration: none;
            font-weight: bold;
            border-radius: 3px;
            font-family: 'Special Elite', cursive;
        }
        
        .ad-link:hover {
            background-color: var(--atomic-red);
        }

        /* ==== FOOTER ==== */
        .page-footer {
            margin-top: 30px;
            padding-top: 15px;
            border-top: 3px double var(--vintage-teal);
            font-size: 0.8em;
            text-align: center;
            color: var(--ink);
        }

        .scrolling-news-ticker {
            width: 100%;
            overflow: hidden;
            background-color: rgba(178, 194, 184, 0.7);
            padding: 5px 0;
            border: 1px solid var(--ink);
            margin-bottom: 10px;
            white-space: nowrap;
        }

        .ticker-content {
            display: inline-block;
            padding-left: 100%;
            animation: ticker-scroll 30s linear infinite;
            font-size: 0.9em;
        }
        
        .ticker-content span {
            padding-right: 50px;
            color: var(--retro-black);
        }

        @keyframes ticker-scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }

        .static-footer-info p {
            margin: 3px 0;
        }
        
        .affirmation { 
            font-style: italic;
            color: var(--retro-black);
        }
        .salutation { 
            margin-top: 10px; 
            font-weight: bold;
            color: var(--ink);
        }

        /* ==== PRINT STYLES ==== */
        @media print {
            body {
                background-color: #fff;
                color: #000;
                font-size: 10pt;
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
            }
            
            .page-background {
                box-shadow: none;
                padding: 0;
                margin: 0;
            }
            
            .newspaper-page {
                width: 7.5in;
                min-height: 10in;
                padding: 0.5in;
                border: 1px solid #fff;
                background: none;
            }

            .masthead, .page-footer {
                border-color: #1d0202;
            }
            
            #reset-game, .page-footer button {
                display: none;
            }
            
            .scrolling-news-ticker {
                display: none;
            }
           
            .media-wrap.video-wrap, .media-wrap.image-wrap {
                width: 45%;
            }
            
            .video-wrap video {
                width: 100%;
                height: auto;
            }
            
            .tic-tac-toe-board {
                border: 1px solid #ccc;
            }
            
            .cell {
                border-color: #ccc;
                background-color: #f0f0f0;
            }
            
            .ad-border {
                border-color: #aaa;
                background-color: #f9f9f9;
            }
            
            .main-title { font-size: 24pt; }
            .sub-title { font-size: 12pt; }
            .main-headline { font-size: 18pt; }
            .story-headline { font-size: 14pt; }

            .main-story, .story-two, .story-three, .advertisement, .cartoon-section, .tic-tac-toe-section {
                page-break-inside: avoid;
            }
            
            a { 
                text-decoration: none; 
                color: inherit;
            }
        }

        /* ==== RESPONSIVE STYLES ==== */
        @media (max-width: 768px) {
            .newspaper-page {
                width: 100%;
                padding: 15px;
                min-height: auto;
                border: none;
            }

            .page-background {
                padding: 5px;
                margin-top: 5px;
                margin-bottom: 5px;
            }

            .masthead {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }

            .date-time-section, 
            .price-section {
                text-align: center;
                flex-basis: auto;
                margin-bottom: 10px;
            }

            .title-section {
                margin-bottom: 10px;
            }
            
            .logo {
                margin-bottom: 10px;
            }

            .main-title {
                font-size: 1.8em;
            }
            
            .sub-title {
                font-size: 1em;
            }
            
            .sub-sub-title {
                font-size: 0.8em;
            }
            
            .story-columns,
            .full-width-story .story-content {
                column-count: 1;
                column-rule: none;
            }

            .media-wrap.video-wrap,
            .media-wrap.image-wrap {
                float: none;
                width: 100%;
                margin-left: 0;
                margin-right: 0;
                margin-bottom: 10px;
            }
            
            .media-wrap video, .media-wrap img {
                max-width: 100%;
            }

            .below-fold-content {
                grid-template-columns: 1fr;
                grid-template-areas:
                    "cartoon"
                    "tictactoe"
                    "advertisement1"
                    "advertisement2"
                    "classifieds";
                gap: 20px;
            }
            
            .classifieds-content {
                column-count: 1;
            }
            .advertisement1, .advertisement2 {
                width: 100%;
                margin-top: 20px;
            } 
            .tic-tac-toe-board {
                grid-template-columns: repeat(3, 50px);
                grid-template-rows: repeat(3, 50px);
                width: 160px;
            }
            
            .cell {
                width: 50px;
                height: 50px;
                font-size: 1.5em;
            }

            .scrolling-news-ticker {
                font-size: 0.8em;
            }
        }

        @media (max-width: 480px) {
            .main-title {
                font-size: 1.5em;
            }
            
            .newspaper-page {
                padding: 10px;
            }
        }

        /* ==== STORY IMAGE STYLES ==== */
        .story-one .story-image,
        .story-three .story-image {
            width: 100%;
            height: auto;
            display: block;
            margin: 0 auto 15px;
            border: 2px solid var(--vintage-teal);
        }

        .story-one .story-content,
        .story-three .story-content {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            text-align: justify;
        }

        .story-one .story-image,
        .story-three .story-image {
            flex: 0 0 auto;
        }

        .story-one .story-text,
        .story-three .story-text {
            flex: 1 1 0;
        }

        @media (max-width: 768px) {
            .story-one .story-content,
            .story-three .story-content {
                flex-direction: column;
            }

            .story-one .story-image,
            .story-three .story-image {
                width: 100%;
            }
        }

        .story-one .story-content,
        .story-three .story-content {
            column-count: 1;
            column-gap: 0;
            display: block;
        }
        
        /* ==== NEW ELEMENT: TENTACLE BORDER ==== */
        .tentacle-border {
            position: absolute;
            width: 100%;
            height: 30px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 10"><path d="M0,5 Q25,0 50,5 T100,5" stroke="%2306d6a0" fill="none" stroke-width="0.5"/></svg>');
            background-repeat: repeat-x;
            opacity: 0.3;
        }
        
        .tentacle-border.top {
            top: 0;
        }
        
        .tentacle-border.bottom {
            bottom: 0;
            transform: rotate(180deg);
        }
    </style>
</head>

<body>
    <div class="page-background">
        <div class="tentacle-border top"></div>
        <div class="tentacle-border bottom"></div>
        
        <div class="newspaper-page">
            
            <nav class="page-navigation">
                <a href="index.html">HOME</a>
                <a href="gallery.html">ARCHIVES</a>
                <a href="store.html">GENERAL STORE</a>
                <a href="about.html">ABOUT</a>
            </nav>

            <header class="masthead">
                <div class="date-time-section">
                    <p id="current-date">DATE: October 31, 1958</p>
                    <p id="current-time">TIME: 11:59 PM</p>
                </div>
                <div class="title-section">
                    <img src="https://www.cowboyprinter.com/wp-content/uploads/2025/05/CP-logo-transback.png" alt="Cthulhu Chronicle Logo" class="logo">
                    <h1 class="main-title">The Cthulhuville Chronicle</h1>
                    <h2 class="sub-title">Your Trusted Source for News from Our Quiet New England Town</h2>
                    <h3 class="sub-sub-title">"That is not dead which can eternal lie, and with strange aeons even death may die."</h3>
                </div>
                <div class="price-section">
                    <a href="#" class="donate-button" target="_blank">PRICE: 10¢</a>
                </div>
            </header>

            <main class="newspaper-body">
                <!-- Story Generation Controls -->
                <div class="generation-controls">
                    <button id="generateBtn">Generate Tomorrow's Edition</button>
                    <button id="resetBtn">Reset the Timeline</button>
                </div>
                
                <!-- Generated Stories Container -->
                <section id="generated-stories" class="generated-stories">
                    <div class="loading">Click "Generate Tomorrow's Edition" to begin</div>
                </section>

                <div class="below-fold-content">
                    <aside class="cartoon-section">
                        <h4>DAILY CHUCKLE</h4>
                        <img src="https://www.cowboyprinter.com/wp-content/uploads/2025/06/ccCTHULHUcafe21.jpg" alt="Political Cartoon" class="cartoon-image">
                        <p class="caption">"I told you we shouldn't have fed it after midnight!"</p>
                    </aside>

                    <section class="tic-tac-toe-section">
                        <h4>TOWN SQUARE GAMES: TIC-TAC-TOE</h4>
                        <div class="tic-tac-toe-board">
                            <div class="cell" data-index="0"></div>
                            <div class="cell" data-index="1"></div>
                            <div class="cell" data-index="2"></div>
                            <div class="cell" data-index="3"></div>
                            <div class="cell" data-index="4"></div>
                            <div class="cell" data-index="5"></div>
                            <div class="cell" data-index="6"></div>
                            <div class="cell" data-index="7"></div>
                            <div class="cell" data-index="8"></div>
                        </div>
                        <button id="reset-game">New Game</button>
                        <p id="game-status">Player X's Turn</p>
                    </section>
                    
                    <aside class="advertisement1">
                        <div class="ad-border">
                            <h3>Have you seen this entity?</h3>
                            <img src="https://www.cowboyprinter.com/wp-content/uploads/2025/06/ccCTHULHUcafe22.jpg" alt="Mysterious Entity" class="ad-image">
                            <p>Approach with extreme caution. Do not make eye contact.</p>
                            <a href="#" target="_blank" class="ad-link">REPORT SIGHTINGS</a>
                        </div>
                    </aside>

                    <aside class="advertisement2">
                        <div class="ad-border">
                            <h4>PROTECT YOUR HOME!</h4>
                            <img src="https://www.cowboyprinter.com/wp-content/uploads/2025/06/ccCTHULHUcafe10.jpg" alt="Suburban Houses" class="ad-image">
                            <p>Eldritch-proof aluminum siding for your suburban dream home!</p>
                            <a href="#" target="_blank" class="ad-link">ORDER NOW!</a>
                        </div>
                    </aside>
                    
                    <section class="classifieds">
                        <h4>~ CLASSIFIEDS ~</h4>
                        <div class="classifieds-content">
                            <div class="ad-item">
                                <strong>FOR SALE:</strong> Gently used dream-catcher. Effective against nightgaunts and dimensional shamblers. Slightly charred from previous encounter. Inquire at Miskatonic Antiques.
                            </div>

                            <div class="ad-item">
                                <strong>HELP WANTED:</strong> Night watchman needed for local library's restricted section. Must be resistant to madness and have own protective sigils. Payment in non-Euclidean geometry.
                            </div>

                            <div class="ad-item">
                                <strong>ROOMMATE WANTED:</strong> Quiet professional seeking roommate for seaside cottage. Must not be disturbed by distant drumming or amphibious visitors. No cultists please.
                            </div>

                            <div class="ad-item">
                                <strong>LOST:</strong> One copy of the Necronomicon. Last seen at town picnic. If found, DO NOT read aloud. Reward offered (sanity not guaranteed).
                            </div>
                            
                            <div class="ad-item">
                                <strong>SERVICES:</strong> Expert in abnormal psychology offering counseling for those affected by recent... events. Discretion assured. Reasonable rates.
                            </div>

                            <div class="ad-item">
                                <strong>FOR RENT:</strong> Cozy one-room apartment above the Curiosity Shop. Minimal dimensional rifts. Perfect for a bachelor occultist or starting-out investigator.
                            </div>
                        </div>
                    </section>      
                </div>
            </main>

            <footer class="page-footer">
                <div class="scrolling-news-ticker">
                    <div class="ticker-content">
                        <span>WEATHER REPORT: Unnatural fog expected to roll in from the sea +++ Town Hall meeting postponed due to unexpected geometry +++ Local fishermen report strange catches +++ Avoid the waterfront after dark +++</span>
                    </div>
                </div>
                <div class="static-footer-info">
                    <p class="affirmation">Today's Affirmation: "What can be imagined need not be real, but what is real was once imagined."</p>
                    <p>© <span id="current-year">1958</span> The Cthulhuville Chronicle. All Rights Reserved (in this dimension). | Editor-in-Chief: J. Andrew Larson</p>
                    <p class="salutation">Sleep soundly, dear readers, and may your dreams be merely dreams...</p>
                    <button onclick="window.print()">Print This Edition</button>
                </div>
            </footer>
        </div>
    </div>
    
    <script>
        // ===== GAME STATE MANAGEMENT =====
        class GameState {
            constructor() {
                this.stateKey = 'cthulhuChronicleState';
                this.initialize();
            }
            
            initialize() {
                this.state = {
                    day: 0,
                    past_events: ["our town"],
                    character_status: {},
                    location_status: {"Cthulhuville": "calm"},
                    character_list: [],
                    setting_list: [],
                    event_list: []
                };
            }
            
            save() {
                localStorage.setItem(this.stateKey, JSON.stringify(this.state));
                console.log("[INFO] Game state saved to localStorage");
            }
            
            load() {
                const savedState = localStorage.getItem(this.stateKey);
                if (savedState) {
                    try {
                        this.state = JSON.parse(savedState);
                        console.log("[INFO] Game state loaded from localStorage");
                    } catch (e) {
                        console.log("[WARNING] Initializing fresh state");
                        this.initialize();
                    }
                } else {
                    console.log("[INFO] No saved state found, initializing fresh");
                    this.initialize();
                }
            }
            
            add_event(event) {
                if (this.state.past_events.length >= 3) {
                    this.state.past_events.shift();
                }
                this.state.past_events.push(event.event_action_past || "Unknown Event");
                this.save();
            }
            
            reset() {
                localStorage.removeItem(this.stateKey);
                this.initialize();
                console.log("[INFO] Game state reset");
            }
        }

        // ===== DATA SOURCES =====
        const data = {
            characters: [
                {
                    "name": "Officer O'Malley",
                    "type": "Town Police",
                    "trait": "being suspicious of anything out of the ordinary",
                    "goal": "to keep the town safe from both human and non-human threats",
                    "quote": "I've seen things that would make your hair stand on end, and I'm not talking about the new rock 'n' roll!"
                },
                {
                    "name": "Dr. Evelyn Thorne",
                    "type": "Scientist",
                    "trait": "studying the strange phenomena in Cthulhuville",
                    "goal": "to understand the cosmic horrors without losing her mind",
                    "quote": "The laws of physics are more like guidelines here."
                },
                {
                    "name": "Father McAllister",
                    "type": "Priest",
                    "trait": "trying to reconcile his faith with the unspeakable horrors",
                    "goal": "to perform exorcisms and protect his flock",
                    "quote": "I've read the Necronomicon; it's not exactly the Bible, but it's got some interesting ideas."
                },
                {
                    "name": "Betty and Bob Johnson",
                    "type": "Suburban Couple",
                    "trait": "selling aluminum siding and new automobiles",
                    "goal": "to live the American dream despite the occasional tentacle",
                    "quote": "Our new Chevy can outrun a Shoggoth, we guarantee it!"
                },
                {
                    "name": "The Hawkins Kids",
                    "type": "High School crew",
                    "trait": "investigating strange occurrences on their bikes",
                    "goal": "to survive high school and the apocalypse",
                    "quote": "Cthulhu? Yeah, he's okay once you get to know him."
                },
                {
                    "name": "Old Man Henderson",
                    "type": "Lighthouse Keeper",
                    "trait": "muttering about things from the deep",
                    "goal": "to keep the beacon lit no matter what emerges from the sea",
                    "quote": "They come when the stars are right... and the stars are always right these days."
                },
                {
                    "name": "Agnes Baker",    
                    "type": "Librarian",    
                    "trait": "guarding forbidden knowledge",    
                    "goal": "to prevent the wrong books from falling into the wrong hands",    
                    "quote": "Some books aren't meant to be read. Some shouldn't even exist."
                },    
                {
                    "name": "Professor Armitage",
                    "type": "Miskatonic University Historian",
                    "trait": "researching the town's dark past",
                    "goal": "to document the unspeakable before it's too late",
                    "quote": "The past isn't dead. It isn't even past. Sometimes it isn't even in this dimension."
                },
                {
                    "name": "Doris Miller",
                    "type": "Mayor",
                    "trait": "keeping up appearances despite the madness",
                    "goal": "to maintain normalcy at all costs",
                    "quote": "Everything is perfectly normal. Pay no attention to the tentacles."
                },
                {
                    "name": "Jimmy 'Scoop' Sullivan",
                    "type": "Cub Reporter",
                    "trait": "digging up stories better left buried",
                    "goal": "to get the real story no matter the cost",
                    "quote": "The truth is out there... and it wants to eat your mind."
                }
            ],
            
            settings: [
                {
                    "name": "The Bank",
                    "description": "the sturdy financial institution of Cthulhuville",
                    "feature": "the vault that's rumored to contain more than just fortunes",
                    "atmosphere": "tense with the sound of typewriters and distant whispers"
                },
                {
                    "name": "The Quarry",
                    "description": "a deep pit on the edge of town",
                    "feature": "ancient carvings that glow at night",
                    "atmosphere": "eerie with the sound of wind and something else..."
                },
                {
                    "name": "The Town Hall",
                    "description": "the center of local government",
                    "feature": "a statue of the founder that seems to change position",
                    "atmosphere": "formal with a hint of madness"
                },
                {
                    "name": "The Town Square",
                    "description": "the heart of Cthulhuville",
                    "feature": "a fountain that sometimes spews green ichor",
                    "atmosphere": "still experiencing zero visibility day and night"
                },
                {
                    "name": "The Drive-in Movie Theater",
                    "description": "where families gather to watch films under the stars",
                    "feature": "the giant screen that occasionally shows messages from beyond",
                    "atmosphere": "nostalgic and nauseating"
                },
                {
                    "name": "The Supermarket",
                    "description": "a modern marvel of convenience",
                    "feature": "aisle 13, which seems to shift when no one is looking",
                    "atmosphere": " blinding glare and bending shadows"
                },
                {
                    "name": "The Library",
                    "description": "a quiet place of learning",
                    "feature": "the forbidden section in the basement",
                    "atmosphere": "silent but for chanting"
                },
                {
                    "name": "The Diner",
                    "description": "where locals gather for coffee and pie",
                    "feature": "a jukebox that plays strange melodies",
                    "atmosphere": "sticky with dread"
                },
                {
                    "name": "The Cemetery",
                    "description": "the final resting place for many townsfolk",
                    "feature": "graves that appear overnight",
                    "atmosphere": "still and vengeful"
                },
                {
                    "name": "The Lake",
                    "description": "a serene body of water on the town's edge",
                    "feature": "islands that shouldn't be there",
                    "atmosphere": "deceptively peaceful"
                }
            ],
            
            events: [
                {
                    "event_type": "Odd County Fair",
                    "event_action_past": "held the surprise county fair",
                    "event_object_catalyst": "a prize-winning pumpkin that grew tentacles",
                    "event_consequence": "several attendees reported vivid nightmares and a craving for raw meat",
                    "weather": "shocking rain"
                },
                {
                    "event_type": "Monster Carnival",
                    "event_action_past": "set up a carnival for monsters in the town square",
                    "event_object_catalyst": "a carousel that played a melody of screaming children",
                    "event_consequence": "children went blind and started speaking in tongues after eating strangely flavored cotton candy",
                    "weather": "erratic winds"
                },
                {
                    "event_type": "Livestock Contest",
                    "event_action_past": "held the livestock contest",
                    "event_object_catalyst": "a cow that produced milk that glowed in the dark",
                    "event_consequence": "the judges were driven mad by the sight",
                    "weather": "a greenish haze"
                },
                {
                    "event_type": "Pagan Ritual",
                    "event_action_past": "celebrated ancient festival games",
                    "event_object_catalyst": "fireworks that exploded into strange symbols",
                    "event_consequence": "a temporary rift opened in the sky",
                    "weather": "thunder without clouds"
                },
                {
                    "event_type": "Unnatural Picnic",
                    "event_action_past": "witnessed the unbalanced affair",
                    "event_object_catalyst": "a mysterious fruit that caused hallucinations",
                    "event_consequence": "many residents reported eating with deceased relatives",
                    "weather": "intense sulfur levels"
                },
                {
                    "event_type": "Parade of Undead",
                    "event_action_past": "held the annual parade",
                    "event_object_catalyst": "a float that seemed to actually float",
                    "event_consequence": "the mayor was seen talking to a shadowy figure",
                    "weather": "foul carrion fog"
                },
                {
                    "event_type": "Soul Harvest",
                    "event_action_past": "celebrated the harvesting of souls for elder gods",
                    "event_object_catalyst": "a corn maze that rearranged itself imprisoning the town council",
                    "event_consequence": "several children went missing, only to return with strange pagan markings",
                    "weather": "violent ball lightning"
                },
                {
                    "event_type": "Unauthorized Public Barbeque",
                    "event_action_past": "hosted the annual town barbeque",
                    "event_object_catalyst": "undead sausages that wriggled on the grill",
                    "event_consequence": "several residents grew extra limbs",
                    "weather": "oppressive heat"
                },
                {
                    "event_type": "Green Fire",
                    "event_action_past": "broke out at the old mill",
                    "event_object_catalyst": "flames that burned with an unnatural color and odor",
                    "event_consequence": "the fire department reported seeing shadowy demon figures in the smoke",
                    "weather": "smog with body ash"
                },
                {
                    "event_type": "Flash Flesh Flood",
                    "event_action_past": "inundated the low-lying areas",
                    "event_object_catalyst": "watery protein that seemed to have a mind of its own",
                    "event_consequence": "strange aquatic creatures were found in basements",
                    "weather": "torrential blood rains"
                },
                {
                    "event_type": "Earthquake",
                    "event_action_past": "shook the town",
                    "event_object_catalyst": "fissures that emitted a strange glow like the fires of hell",
                    "event_consequence": "residents reported hearing ghostly voices from below",
                    "weather": "still, ominous gloom"
                },
                {
                    "event_type": "Cthulhu Transformation",
                    "event_action_past": "turned into a Cthulhu-like creature",
                    "event_object_catalyst": "the local barber who now has tentacles",
                    "event_consequence": "he's giving the best haircuts in town, but customers leave changed",
                    "weather": "thick, foggy mist"
                },
                {
                    "event_type": "Cthulhu Sighting",
                    "event_action_past": "was seen fishing in the lake",
                    "event_object_catalyst": "a being of immense power and tentacles",
                    "event_consequence": "the fish caught that day had extra eyes and whispered secrets",
                    "weather": "smelly, misty showers"
                },
                {
                    "event_type": "Dream Invasion",
                    "event_action_past": "invaded the dreams of residents",
                    "event_object_catalyst": "strange visions of R'lyeh",
                    "event_consequence": "half the town called in sick after a sleepless night",
                    "weather": "unnaturally red darkness"
                },
                {
                    "event_type": "Architectural Transmogrification",
                    "event_action_past": "morphed into a living entity",
                    "event_object_catalyst": "the post office that now breathes",
                    "event_consequence": "mail delivery has become... unpredictable",
                    "weather": "halucinogenic shadows"
                }
            ],
            
            templates: [
                "The {weather} in {setting_name} turned out to be particularly {setting_atmosphere}. {character_name}, a {character_type} known for {character_trait}, was on a mission {character_goal}. They had just wrapped their head around {event_object_catalyst} and suddenly this {event_type}. {character_name} exclaimed, '{character_quote}' as they were there the last time someone {event_action_past} and triggered {event_object_catalyst}. This led to {event_consequence}. What eldritch forces really intend for {previous_event} even the mayor doesn't want to comment. Does anyone know anything? Who can be sure? The tentacles of change are unwinding, and smelly.",
                "In the heart of {setting_name}, home of {setting_feature} that appear and disappear, {character_name} the {character_type} was caught off guard by the {weather}. Proudly {character_trait}, they were on a quest {character_goal} when they encountered the {event_type}. 'I never expected to see {event_object_catalyst} here,' they said, before adding, '{character_quote}' The result was {event_consequence}. Well, whoever or whatever manifested {previous_event} erupting in these phenomena, what next? Fear not! Authorities are investigating all leads. Or so they say. ",
                "Tensions around {setting_name}, normally {setting_description} and the cursed location of {setting_feature} which we don't talk about, {character_name} the {character_type} took shelter to avoid the {weather}. Usually {character_trait}, they wanted {character_goal} when: {event_type}. 'I saw it coming,' they exclaimed, 'and did what I had to do.' In the aftermath {event_consequence}. What foolish parties felt they had to disturb {previous_event} for who knows what reason, we have no idea, so local authorities are investigating how to prevent similar unpredictables.",
                "Beautiful {setting_name}, the veritable oasis with {setting_description} and the mysterious address of {setting_feature}, {character_name} the {character_type} was unexpectedly delayed by the {weather}. Known for {character_trait}, they were on a mission {character_goal} when they encountered the {event_type}. 'I can't believe I just {event_action_past} {event_object_catalyst},' they exclaimed, 'but I guess that's just how things are in this town.' In the aftermath we are seeing {event_consequence}. It was kind of normal for {previous_event}, but knowing that doesn't help folks sleep at night.",
                "Amidst {setting_description} known as {setting_name} with the appalling eyesore, {setting_feature} dominating the skyline, {character_name} the {character_type} found themselves suddenly confronting {weather} in the local area. Known throughout the town as {character_trait}, their current quest {character_goal} was interrupted when they {event_action_past} with {event_object_catalyst}. 'To hell with whatever {event_consequence} or whatever,' they muttered, before shouting '{character_quote}' As a result, {event_consequence}. Why exactly we see {previous_event}, with {event_type}? Maybe it's unknowable, but we continue to investigate.",
                "As the {weather} swept through {setting_name}, {character_name} imagined their next move. 'I've got {character_goal},' thought the {character_type}, whose reputation for {character_trait} is well-earned. But then came the {event_type} when someone {event_action_past} and the materialization of {event_object_catalyst}, terrifying the church garden club. Devious cosmic forces gripped {previous_event} or something, of course, but life in Cthulhuville continues. Our hero declared: '{character_quote}' What next for {previous_event} with this wierd armageddony {event_type}? Witnesses recant or vanish.  The aftermath saw {event_consequence} throughout the town."
            ]
        };

        // ===== STORY GENERATION FUNCTIONS =====
        function getRandomElement(array) {
            return array[Math.floor(Math.random() * array.length)];
        }


        /**
         * Randomly shuffles an array in place.
         * (Fisher-Yates Shuffle Algorithm)
         */
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // Swap elements
            }
        }

        function generateStorySnippet(gameState) {
            const character = getRandomElement(data.characters);
            const setting = getRandomElement(data.settings);
            const event = getRandomElement(data.events);
            const template = getRandomElement(data.templates);

            const previous_event = gameState.state.past_events.length > 0 ? 
                gameState.state.past_events[gameState.state.past_events.length - 1] : 
                "our town";

            const storyData = {
                setting_name: setting.name || "Unknown",
                setting_description: setting.description || "",
                setting_feature: setting.feature || "",
                setting_atmosphere: setting.atmosphere || "",
                character_name: character.name || "Unknown",
                character_type: character.type || "",
                character_trait: character.trait || "",
                character_goal: character.goal || "",
                character_quote: character.quote || "",
                event_type: event.event_type || "",
                event_object_catalyst: event.event_object_catalyst || "",
                event_consequence: event.event_consequence || "",
                event_action_past: event.event_action_past || "",
                weather: event.weather || "calm",
                previous_event: previous_event,
                location_status: gameState.state.location_status[setting.name] || "calm"
            };

            try {
                return {
                    story: template.replace(/\{(\w+)\}/g, (_, key) => storyData[key]),
                    event: event,
                    setting: setting,
                    character: character
                };
            } catch (e) {
                return {
                    story: `[ERROR] Formatting error: ${e}`,
                    event: null,
                    setting: null,
                    character: null
                };
            }
        }
         function generateStories() {
            const headerThumbnails = [
                "https://www.cowboyprinter.com/wp-content/uploads/2025/06/ccCTHULHUcafe17.jpg",
                "https://www.cowboyprinter.com/wp-content/uploads/2025/06/ccCTHULHUcafe7.jpg",
                "https://www.cowboyprinter.com/wp-content/uploads/2025/06/ccCTHULHUcafe5.jpg",
                "https://www.cowboyprinter.com/wp-content/uploads/2025/06/ccCTHULHUcafe8.jpg"
            ];

            const storyBodyImages = [
                "https://www.cowboyprinter.com/wp-content/uploads/2025/06/ccCTHULHUcafe1.jpg",
                "https://www.cowboyprinter.com/wp-content/uploads/2025/06/ccCTHULHUcafe2.jpg",
                "https://www.cowboyprinter.com/wp-content/uploads/2025/06/ccCTHULHUcafe3.jpg",
                "https://www.cowboyprinter.com/wp-content/uploads/2025/06/ccCTHULHUcafe4.jpg",
                "https://www.cowboyprinter.com/wp-content/uploads/2025/06/ccCTHULHUcafe6.jpg",
                "https://www.cowboyprinter.com/wp-content/uploads/2025/06/ccCTHULHUcafe9.jpg",
                
                "https://www.cowboyprinter.com/wp-content/uploads/2025/06/ccCTHULHUcafe11.jpg",
                "https://www.cowboyprinter.com/wp-content/uploads/2025/06/ccCTHULHUcafe12.jpg",

                "https://www.cowboyprinter.com/wp-content/uploads/2025/06/ccCTHULHUcafe14.jpg",
                "https://www.cowboyprinter.com/wp-content/uploads/2025/06/ccCTHULHUcafe15.jpg",
                "https://www.cowboyprinter.com/wp-content/uploads/2025/06/ccCTHULHUcafe16.jpg",
                "https://www.cowboyprinter.com/wp-content/uploads/2025/06/ccCTHULHUcafe18.jpg",
                "https://www.cowboyprinter.com/wp-content/uploads/2025/06/ccCTHULHUcafe19.jpg",
                "https://www.cowboyprinter.com/wp-content/uploads/2025/06/ccCTHULHUcafe20.jpg"
              
            ];

       

            const container = document.getElementById('generated-stories');
            container.innerHTML = '';
            
            gameState.state.day++;
            const dayHeader = document.createElement('h3');
            dayHeader.style.textAlign = 'center';
            dayHeader.style.color = '#000';
            dayHeader.textContent = `News from Day ${gameState.state.day} of Tomorrow's Edition...`;
            dayHeader.style.marginTop = '20px';
            container.appendChild(dayHeader);

            shuffleArray(headerThumbnails);
            shuffleArray(storyBodyImages);

            for (let i = 0; i < 3; i++) {
                const {story, event, setting, character} = generateStorySnippet(gameState);
                
                const storyElement = document.createElement('div');
                storyElement.className = 'generated-story';

                storyElement.innerHTML = `
                    <div class="generated-story-header">
                        <img src="${headerThumbnails[i % headerThumbnails.length]}" alt="Story Thumbnail" class="story-header-thumbnail">
                        
                        <h3 class="generated-story-title">transmission #${i+1}: ${event.event_type} in ${setting.name}</h3>
                        
                        <div class="generated-story-location">
                            <span class="byline">Reports from</span> 
                            
                            ${setting.name} <span class="weather-tag">${event.weather}</span>
                        </div>
                    </div>
                    
                    <div class="generated-story-content">
                        <img src="${storyBodyImages[i % storyBodyImages.length]}" alt="A scene from the story" class="story-body-image">
                        ${story}
                    </div>
                    
                    <div class="generated-story-quote">
                        "${character.quote}" - ${character.name}
                    </div>
                `;

                container.appendChild(storyElement);
            }
        }

        // ===== INITIALIZATION AND EVENT HANDLERS =====
        const gameState = new GameState();
        gameState.load();

        document.addEventListener('DOMContentLoaded', function() {
            // Date and Time Update
            const dateElement = document.getElementById('current-date');
            const timeElement = document.getElementById('current-time');
            const yearElement = document.getElementById('current-year');

            function updateDateTime() {
                const now = new Date();
                const optionsDate = { year: 'numeric', month: 'long', day: 'numeric' };
                const optionsTime = { hour: 'numeric', minute: '2-digit', hour12: true };
                
                // Set to 1950s style date
                const formattedDate = now.toLocaleDateString('en-US', optionsDate).replace(now.getFullYear(), '1958');
                dateElement.textContent = 'DATE: ' + formattedDate;
                timeElement.textContent = 'TIME: ' + now.toLocaleTimeString('en-US', optionsTime);
                
                if (yearElement) {
                    yearElement.textContent = '1958';
                }
            }
            updateDateTime();
            setInterval(updateDateTime, 60000);

            // Story Generation Controls 
            document.getElementById('generateBtn').addEventListener('click', generateStories);
            document.getElementById('resetBtn').addEventListener('click', () => {
                gameState.reset();
                document.getElementById('generated-stories').innerHTML = 
                    '<div class="loading">Timeline reset. Generate new stories to begin.</div>';
            });

            // Tic-Tac-Toe Game Logic 
            const cells = document.querySelectorAll('.cell');
            const gameStatus = document.getElementById('game-status');
            const resetButton = document.getElementById('reset-game');
            let currentPlayer = 'X';
            let boardState = ['', '', '', '', '', '', '', '', ''];
            let gameActive = true;

            const winningConditions = [
                [0, 1, 2], [3, 4, 5], [6, 7, 8], // Rows
                [0, 3, 6], [1, 4, 7], [2, 5, 8], // Columns
                [0, 4, 8], [2, 4, 6]             // Diagonals
            ];

            function handleCellClick(event) {
                const clickedCell = event.target;
                const clickedCellIndex = parseInt(clickedCell.getAttribute('data-index'));

                if (boardState[clickedCellIndex] !== '' || !gameActive) {
                    return;
                }

                boardState[clickedCellIndex] = currentPlayer;
                clickedCell.textContent = currentPlayer;
                
                checkResult();
            }

            function checkResult() {
                let roundWon = false;
                for (let i = 0; i < winningConditions.length; i++) {
                    const winCondition = winningConditions[i];
                    let a = boardState[winCondition[0]];
                    let b = boardState[winCondition[1]];
                    let c = boardState[winCondition[2]];
                    if (a === '' || b === '' || c === '') {
                        continue;
                    }
                    if (a === b && b === c) {
                        roundWon = true;
                        break;
                    }
                }

                if (roundWon) {
                    gameStatus.textContent = `Player ${currentPlayer} Wins! Hooray!`;
                    gameActive = false;
                    return;
                }

                if (!boardState.includes('')) {
                    gameStatus.textContent = 'It\'s a Draw!';
                    gameActive = false;
                    return;
                }

                currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
                gameStatus.textContent = `Player ${currentPlayer}'s Turn`;
            }

            function resetGame() {
                boardState = ['', '', '', '', '', '', '', '', ''];
                gameActive = true;
                currentPlayer = 'X';
                gameStatus.textContent = `Player ${currentPlayer}'s Turn`;
                cells.forEach(cell => cell.textContent = '');
            }

            cells.forEach(cell => cell.addEventListener('click', handleCellClick));
            resetButton.addEventListener('click', resetGame);
        });
    </script>
</body>
</html>